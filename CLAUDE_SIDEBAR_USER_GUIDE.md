# 🎯 Claude侧边栏使用指南

## 📋 概述

Opcode现在集成了完整的Claude AI助手到代码编辑器的右侧，提供类似VS Code + Augment插件的体验。

---

## 🚀 快速开始

### 1. 打开Code Editor

1. 启动Opcode
2. 点击顶部菜单 `⋮ More` → `Code Editor`
3. 或者从欢迎页面点击"打开项目"

### 2. 打开项目

1. 点击左侧工具栏的"Open Folder"按钮
2. 选择您的项目目录
3. 文件树会自动加载

### 3. 使用Claude助手

右侧的Claude面板会自动激活，您可以：
- 发送消息与Claude对话
- 让Claude帮助编写、修改代码
- 询问代码相关问题

---

## 💡 核心功能

### 📁 文件编辑

#### 打开文件
- 在左侧文件树中点击文件
- 文件会在中间的Monaco编辑器中打开
- 支持语法高亮、代码折叠、智能提示

#### 保存文件
- **快捷键**：`Ctrl+S` (Windows/Linux) 或 `Cmd+S` (Mac)
- 修改后的文件标签会显示圆点标记

#### 多标签编辑
- 可以同时打开多个文件
- 点击标签切换文件
- 点击标签上的 `×` 关闭文件

---

### 🤖 Claude AI助手

#### 发送消息

1. 在底部输入框输入您的问题或请求
2. 按 `Enter` 发送（`Shift+Enter` 换行）
3. Claude会实时响应

#### 发送当前文件

**方法1：使用按钮**
1. 打开一个文件
2. 点击Claude面板顶部的"Send File"按钮
3. 当前文件的完整内容会发送给Claude

**方法2：使用快捷键**
- **快捷键**：`Ctrl+Shift+L`
- 自动发送当前打开的文件到Claude

#### 模型选择

在输入框左侧可以选择模型：
- **Sonnet 4.5**：快速、高效（推荐日常使用）
- **Opus**：更强大、更深入的分析

#### Thinking Mode

选择Claude的思考深度：
- **Auto**：让Claude自动决定
- **Think**：基础推理
- **Think Hard**：深度推理
- **Think Harder**：更深度推理
- **UltraThink**：最深度推理

#### 文件选择器（@）

1. 在输入框中输入 `@`
2. 会弹出文件选择器
3. 选择要包含在对话中的文件

#### Slash命令（/）

1. 在输入框中输入 `/`
2. 会显示可用的命令列表
3. 选择命令快速执行常见操作

---

### 🎨 界面控制

#### 显示/隐藏Claude面板

**方法1：使用按钮**
- 点击Claude面板顶部的 `>` 按钮隐藏
- 点击右侧边缘的按钮显示

**方法2：使用快捷键**
- **快捷键**：`Ctrl+B`
- 快速切换Claude面板的显示/隐藏

#### 调整面板宽度

1. 将鼠标移到编辑器和Claude面板之间的分隔线
2. 鼠标变成双向箭头时，按住拖动
3. 宽度会自动保存，下次打开时恢复

**宽度范围**：
- 最小：350px
- 最大：800px
- 默认：450px

---

## ⌨️ 快捷键列表

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+B` | 切换Claude面板 | 显示/隐藏右侧Claude助手 |
| `Ctrl+Shift+L` | 发送文件到Claude | 发送当前打开的文件 |
| `Ctrl+S` | 保存文件 | 保存当前编辑的文件 |
| `Enter` | 发送消息 | 在输入框中发送消息 |
| `Shift+Enter` | 换行 | 在输入框中插入换行 |

---

## 🎯 使用场景

### 场景1：代码审查

1. 打开要审查的文件
2. 按 `Ctrl+Shift+L` 发送文件到Claude
3. Claude会自动分析代码并提供建议

### 场景2：编写新功能

1. 在Claude中描述您想要的功能
2. Claude会生成代码
3. 复制代码到编辑器
4. 保存文件

### 场景3：调试问题

1. 打开有问题的文件
2. 发送文件到Claude
3. 描述问题
4. Claude会帮助找出问题并提供解决方案

### 场景4：学习代码

1. 打开不熟悉的代码文件
2. 发送文件到Claude
3. 询问"请解释这段代码的功能"
4. Claude会详细解释代码逻辑

---

## 💾 数据持久化

### 自动保存的设置

- ✅ Claude面板宽度
- ✅ Claude面板显示/隐藏状态
- ✅ 最近打开的项目列表

### 会话历史

- ✅ Claude对话历史会自动保存
- ✅ 关闭并重新打开项目时，历史记录会恢复
- ✅ 可以查看之前的对话

---

## 🔧 高级功能

### Timeline（时间线）

- 查看会话的历史版本
- 创建Checkpoint（检查点）
- Fork会话创建分支

### 工具调用

Claude可以执行各种工具操作：
- 读取文件
- 写入文件
- 执行命令
- 搜索代码

### 图片上传

- 支持拖拽图片到输入框
- 支持粘贴图片
- Claude可以分析图片内容

---

## ❓ 常见问题

### Q: Claude面板不显示怎么办？

**A**: 按 `Ctrl+B` 切换显示，或者检查右侧边缘是否有显示按钮。

### Q: 发送文件按钮是灰色的？

**A**: 确保您已经打开了一个文件。只有打开文件后，"Send File"按钮才会激活。

### Q: 如何清除对话历史？

**A**: 目前对话历史会自动保存。如果需要开始新的对话，可以打开一个新的项目。

### Q: Claude响应很慢？

**A**: 
1. 检查网络连接
2. 尝试切换到Sonnet模型（更快）
3. 减少发送的代码量

### Q: 如何复制Claude的回复？

**A**: 
1. 鼠标选中Claude的回复文本
2. 右键复制，或使用 `Ctrl+C`
3. 代码块右上角有复制按钮

---

## 🎨 界面说明

```
┌─────────────────────────────────────────────────────────────┐
│  Opcode - Code Editor                                        │
├──────────┬──────────────────────┬──────────────────────────┤
│          │                      │                          │
│  文件树   │   Monaco编辑器        │  Claude Assistant        │
│          │                      │                          │
│  📁 src  │  function foo() {    │  🤖 Claude               │
│  📁 lib  │    return bar;       │                          │
│  📄 a.ts │  }                   │  [对话历史]              │
│          │                      │                          │
│          │                      │  [消息输入框]            │
│          │                      │  [Send File] [Hide]      │
└──────────┴──────────────────────┴──────────────────────────┘
```

---

## 📚 相关文档

- [技术实施方案](CLAUDE_SIDEBAR_INTEGRATION_PLAN.md)
- [Monaco编辑器指南](MONACO_EDITOR_GUIDE.md)
- [欢迎页面指南](WELCOME_PAGE_GUIDE.md)

---

## 🎉 总结

Claude侧边栏集成为Opcode带来了强大的AI辅助编程能力：

✅ **完整的Claude功能**：所有原有功能都保留
✅ **无缝集成**：与代码编辑器完美配合
✅ **高效工作流**：快捷键和自动化功能
✅ **持久化设置**：记住您的偏好

开始使用Claude侧边栏，让AI成为您的编程助手！

---

**版本**：v1.0  
**更新时间**：2025-10-06  
**状态**：✅ 已完成

